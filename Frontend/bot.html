<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chess Frontend - Gegen einen Bot</title>
  <style>
    :root {
      --bg: #f0d9b5;
      --panel: #ffffff;
      --text: #1f2937;
      --accent: #1f5ea8;
      --accent-hover: #184a84;
      --border: #dbe3ef;
      --white-square: #f0d9b5;
      --black-square: #274b7a;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(145deg, #081a3a 0%, #02040a 100%);
      background-attachment: fixed;
      color: var(--text);
    }

    .page {
      max-width: 1320px;
      margin: 0 auto;
      padding: 24px;
      display: flex;
      gap: 24px;
      align-items: flex-start;
    }

    .content-panel {
      flex: 1;
      min-width: 0;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 24px;
      box-shadow: 0 10px 24px rgba(31, 41, 55, 0.08);
    }

    .menu-panel {
      width: 280px;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 20px;
      box-shadow: 0 10px 24px rgba(31, 41, 55, 0.08);
    }

    .menu-title {
      margin: 0 0 16px;
      font-size: 1.2rem;
      font-weight: 700;
    }

    .menu-links {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .menu-link, .primary-btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      min-height: 46px;
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid transparent;
      background: var(--accent);
      color: #fff;
      text-decoration: none;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.15s ease;
    }

    .menu-link:hover, .primary-btn:hover { background: var(--accent-hover); }

    .board-placeholder {
      width: min(100%, 760px);
      aspect-ratio: 1 / 1;
      margin: 18px 0;
      border-radius: 12px;
      border: 1px solid var(--border);
      overflow: hidden;
      box-shadow: 0 10px 24px rgba(31, 41, 55, 0.2);
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      grid-template-rows: repeat(8, 1fr);
    }

    .board-square {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .board-square.light {
      background: var(--white-square);
    }

    .board-square.dark {
      background: var(--black-square);
    }

    .board-piece {
      width: 84%;
      height: 84%;
      object-fit: contain;
      user-select: none;
      cursor: grab;
    }

    @media (max-width: 900px) {
      .page { flex-direction: column; }
      .menu-panel { width: 100%; }
    }
  </style>
</head>
<body>
  <main class="page">
    <section class="content-panel">
      <h1>Gegen einen Bot</h1>
      <p>Spiele gegen den Computer - bald verfügbar!</p>
      <div id="bot-board" class="board-placeholder" aria-label="Schachbrett Platzhalter"></div>
      <a class="primary-btn" href="index.html">Zurück</a>
    </section>

    <aside class="menu-panel" aria-label="Hauptnavigation">
      <h2 class="menu-title">Menü</h2>
      <nav class="menu-links">
        <a class="menu-link" href="index.html">Hauptmenu</a>
        <a class="menu-link" href="bot.html">Gegen Bot</a>
        <a class="menu-link" href="duo.html">PVP</a>
      </nav>
    </aside>
  </main>

  <script>
    const boardElement = document.getElementById("bot-board");
    const files = ["a", "b", "c", "d", "e", "f", "g", "h"];
    const initialPosition = {
      a8: "br", b8: "bn", c8: "bb", d8: "bq", e8: "bk", f8: "bb", g8: "bn", h8: "br",
      a7: "bp", b7: "bp", c7: "bp", d7: "bp", e7: "bp", f7: "bp", g7: "bp", h7: "bp",
      a2: "wp", b2: "wp", c2: "wp", d2: "wp", e2: "wp", f2: "wp", g2: "wp", h2: "wp",
      a1: "wr", b1: "wn", c1: "wb", d1: "wq", e1: "wk", f1: "wb", g1: "wn", h1: "wr"
    };

    let draggedPiece = null;

    for (let rank = 8; rank >= 1; rank--) {
      for (let fileIndex = 0; fileIndex < 8; fileIndex++) {
        const square = document.createElement("div");
        const file = files[fileIndex];
        const squareName = file + rank;
        const isDark = (rank + fileIndex) % 2 === 0;
        square.className = "board-square " + (isDark ? "dark" : "light");
        square.dataset.square = squareName;

        square.addEventListener("dragover", (event) => {
          event.preventDefault();
        });

        square.addEventListener("drop", (event) => {
          event.preventDefault();
          if (!draggedPiece) return;

          const occupyingPiece = square.querySelector(".board-piece");
          if (occupyingPiece && occupyingPiece !== draggedPiece) {
            occupyingPiece.remove();
          }

          square.appendChild(draggedPiece);
          draggedPiece = null;
        });

        const pieceCode = initialPosition[squareName];
        if (pieceCode) {
          const piece = document.createElement("img");
          piece.className = "board-piece";
          piece.src = "chess_pieces/" + pieceCode + ".png";
          piece.alt = pieceCode;
          piece.draggable = true;

          piece.addEventListener("dragstart", () => {
            draggedPiece = piece;
          });

          piece.addEventListener("dragend", () => {
            draggedPiece = null;
          });

          square.appendChild(piece);
        }

        boardElement.appendChild(square);
      }
    }
  </script>
</body>
</html>

